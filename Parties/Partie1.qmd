---
format: 
  pdf: 
    documentclass: scrartcl
title: "Analyse préliminaire"

---

# Présentation et caractérisation de la série étudiée : source, définition, graphique

Lorsque l'on étudie les prix du pétrole, plusieurs options se présentent. Ces options diffèrent en fonction du type de contrat (spot, futures). Ici, nous avons choisi de s'intéresser aux prix spot, c'est à dire aux prix à d'un baril à un l'instant présent. Ensuite, il a fallu choisir quelle type de pétrole nous souhaitions étudier. Ici, nous avons décidé de nous intéresser au West Texas Intermediate (WTI). Le WTI est un type de pétrole brut utilisé comme réference dans le monde entier. Ici, les données ont pu être extracter sur la FRED St Louis sous la forme 


\- faire les statitiques finales sur la dernière variables Y et verrifier les atypiques avant et après la sationnarisation

```{r}
{
  library(stR)
  library(tsoutliers)
  library(readxl)
  library(seastests)
  library(TSA)
  library(RJDemetra)
  library(rAMCharts)
  library(stlplus)
  library(forecast)
  library(ATAforecasting)
  library(seasonal)
  library(stR)
  library(timeSeries)
}
```

```{r}
base_brut <- read.csv2("Base/base_complete.csv")

WTI <- read.csv2("Base/WTI.csv", sep = ",")
WTI$DATE <- as.Date(WTI$DATE,format="%Y-%m-%d")
str(WTI$DATE)
WTI_ts <- ts(WTI$WTISPLC, frequency = 12, start = "1999-01-01", end = "2022-08-01")


WTI_ts


fit <- tso(WTI_ts) 
plot(fit)
show(fit)

adj <- fit$yadj
plot(adj)
write(t(adj),file="ipi1984_TC.out",ncolumn=1,append=FALSE)

```



```{r}

for (i in 1:10) {
  ts_name <- paste0("x", i)  # Nom de la série temporelle
  ts_name_tso <- paste0("xtso", i)  # Nom de la nouvelle série temporelle
  assign(ts_name_tso, tso(get(ts_name)))  # Appliquer la fonction tso() et stocker le résultat
  assign(ts_name, get(ts_name_tso)$yadj)  # Stocker la série temporelle ajustée
}
```




